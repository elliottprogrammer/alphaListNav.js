/*! alphaListNav.js - v0.7.2
Build Date: 06-13-2022
Author: [Bryan Elliott] (https://github.com/elliottprogrammer/)
Git Repository: git+https://github.com/elliottprogrammer/alphaListNav.js.git */
!function(root,factory){void 0===root&&void 0!==window&&(root=window),"function"==typeof define&&define.amd?define([],function(){return root.AlphaListNav=factory()}):"object"==typeof module&&module.exports?module.exports=factory():root.AlphaListNav=factory()}(this,function(){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _createForOfIteratorHelper(o,allowArrayLike){var i,it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Map"===(n="Object"===n&&o.constructor?o.constructor.name:n)||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(o))||allowArrayLike&&o&&"number"==typeof o.length)return it&&(o=it),i=0,{s:allowArrayLike=function(){},n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:allowArrayLike};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}return function(){function AlphaListNav(listElem){var _this=this,options=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},instance=this,Constructor=AlphaListNav;if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");_defineProperty(this,"init",function(){var listItems;_this.listElem?(listItems=_this._getListItems(_this.listElem),_this.alphaObj=_this._getAlphaObj(listItems),_this.newListHTML=_this._generateNewListHTML(_this.alphaObj),_this.alphaNav=_this._generateAlphaNav(_this.alphaObj),_this.listElem.parentNode.replaceChild(_this.newListHTML,_this.listElem),_this.newListHTML.parentNode.insertBefore(_this.alphaNav,_this.newListHTML),_this.initAlphaListNav(_this.newListHTML,_this.alphaNav,_this.alphaObj),_this.alphaNav.addEventListener("click",function(e){if(e.preventDefault(),e.target.dataset.filter){var _step,letter=e.target.dataset.filter,_iterator=_createForOfIteratorHelper(_this.alphaNav.children);try{for(_iterator.s();!(_step=_iterator.n()).done;)_step.value.classList.remove("active")}catch(err){_iterator.e(err)}finally{_iterator.f()}var _step2,_iterator2=_createForOfIteratorHelper(_this.newListHTML.children);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;)_step2.value.classList.remove("active")}catch(err){_iterator2.e(err)}finally{_iterator2.f()}if(e.target.classList.add("active"),"*"===letter){var _step3,_iterator3=_createForOfIteratorHelper(_this.newListHTML.children);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var div=_step3.value;"no-match"!==div.id&&div.classList.add("active")}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}else _this.newListHTML.querySelector("#".concat(letter.replace(/[-]/,"\\$&"))).classList.add("active")}}),_this.options.showCounts&&Array.prototype.slice.call(_this.alphaNav.children).forEach(function(alphaLink){alphaLink.addEventListener("mouseover",function(e){var count=0,filter=(!e.target.dataset.filter||"no-match"!==(filter=e.target.dataset.filter)&&(count="*"===filter?Object.keys(_this.alphaObj).reduce(function(accum,key){return accum+_this.alphaObj[key].length},0):_this.alphaObj[filter].length),document.createElement("span")),count=(filter.className="alphaNav-count-elem",filter.style.cssText="position:absolute;left:0;width:100%;text-align:center;font-size:75%;",filter.textContent=count,filter.style.visibility="none",e.target.appendChild(filter),filter.getBoundingClientRect().height);filter.style.top="-".concat(count+2,"px"),filter.style.visibility="visible"}),alphaLink.addEventListener("mouseout",function(e){e.target.removeChild(e.target.children[0])})})):console.error("The supplied argument must be a HTML DOM element or a valid element id (string)")}),_defineProperty(this,"_getText",function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=_this._getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=_this._getText(node);return ret}),_defineProperty(this,"initAlphaListNav",function(newListElem,alphaNavElem,alphaObj){var allListGroups;_this.options.initLetter?"*"===_this.options.initLetter&&_this.options.includeAll?(alphaNavElem.querySelector('a[data-filter="'.concat(_this.options.initLetter.toLowerCase(),'"]')).classList.add("active"),allListGroups=newListElem.querySelectorAll("div.alpha-list-wrapper"),Array.prototype.slice.call(allListGroups).forEach(function(div){return div.classList.add("active")})):alphaObj.hasOwnProperty(_this.options.initLetter.toLowerCase())&&(alphaNavElem.querySelector('a[data-filter="'.concat(_this.options.initLetter.toLowerCase(),'"]')).classList.add("active"),newListElem.querySelector("#".concat(_this.options.initLetter.toLowerCase())).classList.add("active")):_this.options.initHidden?_this.options.initHiddenText&&document.getElementById("initText").classList.add("active"):_this.options.includeAll?(allListGroups=newListElem.querySelectorAll("div.alpha-list-wrapper"),Array.prototype.slice.call(allListGroups).forEach(function(div){return div.classList.add("active")}),alphaNavElem.querySelector('a[data-filter="*"]').classList.add("active")):(newListElem=_this._getArrayAtoZ().find(function(_char){return alphaObj.hasOwnProperty(_char.toLowerCase())}).toLowerCase(),alphaNavElem.querySelector('a[data-filter="'.concat(newListElem,'"]')).classList.add("active"),document.getElementById(newListElem).classList.add("active"))}),_defineProperty(this,"_getAlphaObj",function(listItemsArray){var initHiddenTextLi,listItemsArray=listItemsArray.reduce(function(accum,val){var filterElem,text="";return(text=_this.options.filterSelector&&(filterElem=val.querySelector(_this.options.filterSelector))?_this._getText(filterElem):_this._getText(val))&&(text.trim().replace(/^[_*-]/,""),(filterElem=(_this.options.prefixes instanceof RegExp&&null!==_this.options.prefixes.exec(text)?text.charAt(_this.options.prefixes.lastIndex):text.charAt(0)).toLowerCase()).match(/[0-9A-Za-z]/)?_this.options.concatenateNums&&filterElem.match(/[0-9]/)&&(filterElem="_"):filterElem="-",accum[filterElem]?accum[filterElem].push(val):accum[filterElem]=[val]),accum},{});return _this.options.initHidden&&((initHiddenTextLi=document.createElement("li")).className="init-hidden-text",initHiddenTextLi.textContent=_this.options.initHiddenText,listItemsArray.initText=[initHiddenTextLi]),listItemsArray}),_defineProperty(this,"_generateNewListHTML",function(alphaObj){var wrapper=document.createElement("div"),noMatchDiv=(wrapper.id="alpha-list",wrapper.className="alpha-list",Object.keys(alphaObj).sort(function(a,b){return"-"===a?1:"-"===b||a<b?-1:b<a?1:0}).map(function(key){var headingTag,div=document.createElement("div"),ul=(div.id=key,div.className="alpha-list-wrapper",_this.options.showLetterHeadings&&(headingTag=["h1","h2","h3","h4","h5","h6","p","span","div"].includes(_this.options.letterHeadingTag)?_this.options.letterHeadingTag:"h3",(headingTag=document.createElement(headingTag)).className="alpha-list-heading",headingTag.id=_this._getHeading(key).replace(/\s/g,""),headingTag.textContent=_this._getHeading(key),headingTag.textContent&&div.appendChild(headingTag)),document.createElement("ul"));return ul.className="alpha-list-group",alphaObj[key].forEach(function(node){ul.appendChild(node.cloneNode(!0))}),div.appendChild(ul),wrapper.appendChild(div),div}),document.createElement("div")),noMatchUl=(noMatchDiv.id="no-match",document.createElement("ul")),noMatchLi=(noMatchUl.className="no-match-group",document.createElement("li"));return noMatchLi.textContent=_this.options.noMatchText,noMatchUl.appendChild(noMatchLi),noMatchDiv.appendChild(noMatchUl),wrapper.appendChild(noMatchDiv),wrapper}),_defineProperty(this,"_generateAlphaNav",function(alphaObj){var alphaNav=document.createElement("div"),abcChars=(alphaNav.id="alpha-nav",alphaNav.className="character-container",_this._getArrayAtoZ()),navigationEntries=(_this.options.includeNums&&(_this.options.concatenateNums?abcChars.unshift("_"):_this._getArray0to9().reverse().forEach(function(val){return abcChars.unshift(val.toString())})),_this.options.includeOther&&abcChars.push("-"),_this.options.includeAll&&abcChars.unshift("*"),abcChars.reduce(function(block,navChar){return alphaObj[navChar.toLowerCase()]?"_"===navChar?block+'<a class="character-element" data-filter="'+navChar.toLowerCase()+'" href="#">0 - 9</a>':"-"===navChar?block+'<a class="character-element" data-filter="'+navChar.toLowerCase()+'" href="#">...</a>':block+'<a class="character-element" data-filter="'+navChar.toLowerCase()+'" href="#">'+navChar+"</a>":"*"===navChar?block+'<a class="character-element" data-filter="'+navChar.toLowerCase()+'" href="#">'+_this.options.allText+"</a>":_this.options.flagDisabled?_this.options.removeDisabled?block:"_"===navChar?block+'<div class="character-element disabled">0 - 9</div>':"-"===navChar?block+'<div class="character-element disabled">...</div>':block+'<div class="character-element disabled">'+navChar+"</div>":block+'<a class="character-element" data-filter="no-match" href="#">'+navChar+"</a>"},""));return alphaNav.innerHTML=navigationEntries,alphaNav}),_defineProperty(this,"_getArrayAtoZ",function(){return Array.apply(null,{length:26}).map(function(x,i){return String.fromCharCode(65+i)})}),_defineProperty(this,"_getArray0to9",function(){return Array.apply(null,new Array(10)).map(function(x,i){return i})});this.listElem=this._isDomElement(listElem)?listElem:document.getElementById(listElem),this.options=_objectSpread(_objectSpread({},{initHidden:!0,initHiddenText:"Tap a letter above to view matching items",initLetter:"",includeAll:!0,allText:"All",noMatchText:"No matching entries",includeNums:!0,concatenateNums:!0,includeOther:!1,flagDisabled:!0,removeDisabled:!1,prefixes:[],filterSelector:"",showCounts:!0,showLetterHeadings:!0,letterHeadingTag:"h3"}),options),this.alphaObj=null,this.alphaNav=null,this.newListHTML=null,this.options.prefixes.length&&(instance=this.options.prefixes.map(function(val){return"string"==typeof val?(val=val.replace(/[.*+?^${}()|[\]\\]/,"\\$&"))+"\\s":"object"===_typeof(val)&&val instanceof RegExp?val.source+"\\s":void 0}),this.options.prefixes=new RegExp(instance.join("|"),"gi")),this.init()}var Constructor,protoProps,staticProps;return Constructor=AlphaListNav,(protoProps=[{key:"_getListItems",value:function(listElem){return listElem.children.length?Array.prototype.slice.call(listElem.children):[]}},{key:"_isDomElement",value:function(elem){return"object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?elem instanceof HTMLElement:elem&&"object"===_typeof(elem)&&null!==elem&&1===elem.nodeType&&"string"==typeof elem.nodeName}},{key:"_getHeading",value:function(key){var headingText="";switch(!0){case/^[*]$/.test(key):headingText=this.options.allText;break;case/^[_]$/.test(key):headingText="0 - 9";break;case/^[-]$/.test(key):headingText="Others";break;case/^initText$/.test(key):break;default:headingText=key.toUpperCase()}return headingText}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),AlphaListNav}()});